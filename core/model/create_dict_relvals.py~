#This script tries to build the dictionary for relval submission from the driver we have created before

def build_dictionary(request):

    dict_relval = {'AcquisitionEra': request['cmssw_release'],
                   'CMSSWVersion': request['cmssw_release'],
                   'Campaign': campaign['prepid'] #request['cmssw_release']+'_'+str(campaign['process_string'])+'-'+str(random(100000))
                   'ConfigCacheUrl': 'https://cmsweb.cern.ch/couchdb',
                   'DbsUrl': 'https://cmsweb.cern.ch/dbs/prod/global/DBSReader',
                   'GlobalTag': campaign['conditions'],
            'Group': 'ppd',
            'Memory': 3000,
            'Multicore': 1,
            'PrepID': 'CMSSW_10_6_8__UL16-1579987288-TTbarLepton_13UP16',
            'ProcessingString': u'106X_mcRun2_asymptotic_v8_UL16',
            'ProcessingVersion': 1,
            'RequestPriority': 500000,
            'RequestString': 'RVCMSSW_10_6_8TTbarLepton_13UP16_PU25ns__UL16',
            'RequestType': 'TaskChain',
            'Requestor': 'pgunnell',
            'ScramArch': 'slc7_amd64_gcc820',
            'SizePerEvent': 1234,
            'SubRequestType': 'RelVal',
            'Task1': {'AcquisitionEra': 'CMSSW_10_6_8',
                      'Campaign': 'CMSSW_10_6_8__UL16-1579987288',
                      'ConfigCacheID': 1041,
                      'EventsPerJob': 100,
                      'GlobalTag': u'106X_mcRun2_asymptotic_v8',
                      'KeepOutput': True,
                      'Memory': 3000,
                      'Multicore': 1,
                      'PrimaryDataset': 'RelValTTbarLepton_13UP16',
                      'ProcessingString': u'106X_mcRun2_asymptotic_v8_UL16',
                      'RequestNumEvents': 100000,
                      'Seeding': 'AutomaticSeeding',
                      'SplittingAlgo': 'EventBased',
                      'TaskName': 'TTbarLepton_13UP16'},
            'Task2': {'AcquisitionEra': 'CMSSW_10_6_8',
                      'CMSSWVersion': 'CMSSW_10_6_8',
                      'Campaign': 'CMSSW_10_6_8__UL16-1579987288',
                      'ConfigCacheID': 1042,
                      'GlobalTag': u'106X_mcRun2_asymptotic_v10',
                      'InputFromOutputModule': u'FEVTDEBUGoutput',
                      'InputTask': 'TTbarLepton_13UP16',
                      'KeepOutput': True,
                      'LumisPerJob': 10,
                      'MCPileup': u'/RelValMinBias_13/CMSSW_10_6_7-106X_mcRun2_asymptotic_v8_UL16-v1/GEN-SIM',
                    'Memory': 3000,
                      'Multicore': 1,
                      'ProcessingString': u'PU25ns_106X_mcRun2_asymptotic_v10_UL16',
                      'ScramArch': 'slc7_amd64_gcc820',
                      'SplittingAlgo': 'LumiBased',
                      'TaskName': 'DIGIUP16_noHLT'},
            'Task3': {'AcquisitionEra': 'CMSSW_10_6_8',
                      'CMSSWVersion': 'CMSSW_8_0_33_UL',
                      'Campaign': 'CMSSW_10_6_8__UL16-1579987288',
                      'ConfigCacheID': 1044,
                      'GlobalTag': u'80X_mcRun2_asymptotic_v20',
                      'InputFromOutputModule': u'RAWSIMoutput',
                      'InputTask': 'DIGIUP16_noHLT',
                      'KeepOutput': True,
                      'LumisPerJob': 10,
                      'Memory': 3000,
                      'Multicore': 1,
                      'ProcessingString': u'PU25ns_80X_mcRun2_asymptotic_v20_UL16',
                      'ScramArch': 'slc7_amd64_gcc530',
                      'SplittingAlgo': 'LumiBased',
                      'TaskName': 'ULHLT16'},
            'Task4': {'AcquisitionEra': 'CMSSW_10_6_8',
                      'CMSSWVersion': 'CMSSW_10_6_8',
                      'Campaign': 'CMSSW_10_6_8__UL16-1579987288',
                      'ConfigCacheID': 1043,
                      'GlobalTag': u'106X_mcRun2_asymptotic_v10',
                      'InputFromOutputModule': u'RAWSIMoutput',
                      'InputTask': 'ULHLT16',
                      'KeepOutput': True,
                      'LumisPerJob': 10,
                      'Memory': 3000,
                      'Multicore': 1,
                      'ProcessingString': u'PU25ns_106X_mcRun2_asymptotic_v10_UL16',
                      'ScramArch': 'slc7_amd64_gcc820',
                      'SplittingAlgo': 'LumiBased',
                      'TaskName': 'RECOPRMXFEVTDEBUGUP16_PU25'},
            'TaskChain': 4,
            'TimePerEvent': 10}

    return dict_relval
